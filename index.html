<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        :root { --joy-purple: #9b59b6; --joy-light: #e0d0f0; --joy-orange: #f39c12; }
        body { background: var(--joy-light); color: #2c3e50; font-family: sans-serif; margin: 0; padding: 5px; }
        
        /* Header Bar like Joy Bingo */
        .top-info { display: grid; grid-template-columns: repeat(5, 1fr); gap: 2px; margin-bottom: 5px; }
        .info-box { background: white; border: 1px solid #ddd; padding: 2px; text-align: center; border-radius: 4px; font-size: 10px; }
        .info-label { color: var(--joy-purple); font-weight: bold; display: block; }

        .game-area { display: flex; gap: 5px; }

        /* Left Side Board with Letters */
        .left-board { width: 35%; background: #bdc3c7; padding: 2px; border-radius: 4px; }
        .letters { display: grid; grid-template-columns: repeat(5, 1fr); text-align: center; font-weight: bold; color: white; margin-bottom: 2px; }
        .l-b { background: #f1c40f; } .l-i { background: #27ae60; } .l-n { background: #2980b9; } .l-g { background: #c0392b; } .l-o { background: #8e44ad; }
        .board-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 1px; }
        .b-num { aspect-ratio: 1; background: #ecf0f1; display: flex; align-items: center; justify-content: center; font-size: 10px; border-radius: 2px; }
        .b-hit { background: var(--joy-orange); color: white; }

        /* Right Side: Current Call & Card */
        .right-side { width: 63%; display: flex; flex-direction: column; gap: 5px; }
        .current-call-box { background: #8e44ad; color: white; border-radius: 20px; padding: 15px; text-align: center; font-weight: bold; position: relative; }
        .call-circle { background: var(--joy-orange); border-radius: 50%; width: 40px; height: 40px; display: inline-flex; align-items: center; justify-content: center; position: absolute; right: 10px; top: 50%; transform: translateY(-50%); }

        .player-card { background: white; display: grid; grid-template-columns: repeat(5, 1fr); gap: 3px; padding: 5px; border-radius: 8px; border: 2px solid #ddd; }
        .c-cell { aspect-ratio: 1; border: 1px solid #eee; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px; border-radius: 4px; }
        .c-free { background: #27ae60; color: white; font-size: 9px; }
        .c-marked { background: var(--joy-orange); color: white; border-radius: 50%; }
    </style>
</head>
<body>

<div class="top-info">
    <div class="info-box"><span class="info-label">Derash</span>1120</div>
    <div class="info-box"><span class="info-label">Players</span>140</div>
    <div class="info-box"><span class="info-label">Bet</span>10</div>
    <div class="info-box"><span class="info-label">Call</span><span id="callCount">0</span></div>
    <div class="info-box"><span class="info-label">Game â„–</span>2 of 2</div>
</div>

<div class="game-area">
    <div class="left-board">
        <div class="letters"><div class="l-b">B</div><div class="l-i">I</div><div class="l-n">N</div><div class="l-g">G</div><div class="l-o">O</div></div>
        <div class="board-grid" id="masterBoard"></div>
    </div>

    <div class="right-side">
        <div class="current-call-box">
            Current Call
            <div class="call-circle" id="bigCall">--</div>
        </div>
        <div class="player-card" id="myCard"></div>
    </div>
</div>

<script>
    const mBoard = document.getElementById('masterBoard');
    const pCard = document.getElementById('myCard');
    const bigCall = document.getElementById('bigCall');
    let called = new Set();

    // 1. Build Left Board (1-75)
    for(let r=0; r<15; r++) {
        for(let c=0; c<5; c++) {
            let n = (c*15)+r+1;
            let d = document.createElement('div');
            d.className = 'b-num'; d.id = 'm'+n; d.innerText = n;
            mBoard.appendChild(d);
        }
    }

    // 2. Build Card (Joy Bingo Style: No repeats, correct columns)
    function getCol(min, max) {
        let nums = [];
        while(nums.length < 5) {
            let r = Math.floor(Math.random() * (max - min + 1)) + min;
            if(!nums.includes(r)) nums.push(r);
        }
        return nums;
    }

    const cardData = [getCol(1,15), getCol(16,30), getCol(31,45), getCol(46,60), getCol(61,75)];
    for(let r=0; r<5; r++) {
        for(let c=0; c<5; c++) {
            let cell = document.createElement('div');
            cell.className = 'c-cell';
            let val = cardData[c][r];
            if(r===2 && c===2) { cell.innerText = "FREE"; cell.classList.add('c-free'); }
            else { 
                cell.innerText = val; 
                cell.onclick = () => { if(called.has(val)) cell.classList.add('c-marked'); };
            }
            pCard.appendChild(cell);
        }
    }

    // 3. Simple Call Simulation
    let pool = Array.from({length: 75}, (_,i)=>i+1).sort(()=>Math.random()-0.5);
    let idx = 0;
    setInterval(() => {
        if(idx < 75) {
            let n = pool[idx];
            called.add(n);
            bigCall.innerText = n;
            document.getElementById('m'+n).classList.add('b-hit');
            document.getElementById('callCount').innerText = idx + 1;
            idx++;
        }
    }, 4000);
</script>
</body>
</html>
